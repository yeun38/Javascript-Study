# 17장 생성자 함수에 대한 객체 생성

- 다양한 객체 생성 방식 중에서 생성자 함수를 사용하여 객체를 생성하는 방식이다.

## Object 생성자 함수

- 생성자 함수 : new 연산자와 함께 object 생성자 함수를 호출하면 빈 객체를 생성하여 반환하고 프로퍼티 또는 메서드를 추가하여 객체를 완성한다. > 생성된 객체를 인스턴스라 한다.

## 생성자 함수

- 객체 리터럴 방식과는 다르게 생성자 함수는 객체를 생성하기 위한 템플릿(클래스)처럼 생성자 함수를 사용하여 프로퍼티 구조가 동일한 객체를 **_여러 개_**를 간편하게 생성할 수 있다.
- 이때 **_new연산자와 함께 호출해야_** 생성자 함수로 동작한다.

### 생성자 함수의 인스턴스 생성 과정

- 생성자 함수의 역할 : 동일한 인스턴스를 생성하기 위한 템플릿을 동작하여 인스턴스를 생성하고 생성된 인스턴스를 초기화(인스터스 프로퍼티 추가 및 초기값 할당)하는 것이다.

1. 인스턴스 생성과 this 바인딩

- 암묵적으로 빈객체 생성 > this에 바인딩(식별자와 값을 연결하는 과정)

2. 인스턴스 초기화

- this에 바인딩(암묵적으로)되어 있는 인스턴스에 프로퍼티나 메서드를 추가하고 생성자 함수가 인수로 전달받은 초기값을 인스턴스 프로퍼티에 할당하여 초기화하거나 고정값을 할당한다.

3. 인스턴스 반환

- 내부처리 이후 인스턴스가 바인딩된 this가 암묵적으로 반환
- this가 아닌 다른 객체를 명시적으로 반환하면 this가 반환되지 못하고 return문에 명시한 **_객체가 반환된다._**
- 명시적으로 **_원시 값_**을 반환하면 원시 값 반환은 무시되고 암묵적으로 this가 반환된다.

### 내부 메서드 [[Call]]과 [[Construct]]

- 함수는 객체이다. > 객체가 가지고 있는 내부 슬롯과 내부 메서드를 가지고 있다.
- 하지만 함수는 일반 개체와는 다르게 호출이 가능하다. > 함수로서 동작하기 위해 함수 객체만을 위한 [[Environment]],[[FormalParameters]] 등의 내부 슬롯과 [[Call]],[[Construct]] 같은 내부 메서드를 추가로 가지고 있다.
- 일반 함수로 호출 시 > [[Call]]
- 생성자 함수로 호출 시 > [[Construct]]
- 이 때, 함수 객체는 호출 할 수 있지만 모든 함수 객체를 생성자함수로서 호출할 수 있는 것은 아니다.
- non-constructor(화살표 함수, 메서드 축약 표현)와 constructor(함수 선언문, 함수 표현식)로 나뉜다.

## new.target

- new.target은 this와 유사하게 constructor인 모든 함수 내부에서 암묵적인 지역 변수와 같이 사용되며 메타 프로퍼티라고 부른다.
- new.target을 사용하면 생성자 함수로서 호출되었는지 확인가능하며 호출 시 함수 함수 자신을 가리키며 아닐 경우 undefined를 반환한다.
